{"version":3,"sources":["withNavigation.js"],"names":["withNavigation","Component","config","forwardRef","ComponentWithNavigation","React","render","navigationProp","props","navigation","navigationContext","onRef","undefined","displayName","name"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;;;;;;;;;AAEe,SAASA,cAAT,CACbC,SADa,EAEbC,MAAM,GAAG;AAAEC,EAAAA,UAAU,EAAE;AAAd,CAFI,EAGb;AACA,QAAMC,uBAAN,SAAsCC,KAAK,CAACJ,SAA5C,CAAsD;AAKpDK,IAAAA,MAAM,GAAG;AACP,YAAMC,cAAc,GAAG,KAAKC,KAAL,CAAWC,UAAlC;AACA,0BACE,oBAAC,0BAAD,CAAmB,QAAnB,QACIC,iBAAD,IAAuB;AACtB,cAAMD,UAAU,GAAGF,cAAc,IAAIG,iBAArC;AACA,gCACE,CAAC,CAACD,UADJ,EAEE,wJAFF;AAIA,4BACE,oBAAC,SAAD,eACM,KAAKD,KADX;AAEE,UAAA,UAAU,EAAEC,UAFd;AAGE,UAAA,GAAG,EAAEP,MAAM,CAACC,UAAP,GAAoB,KAAKK,KAAL,CAAWG,KAA/B,GAAuCC;AAH9C,WADF;AAOD,OAdH,CADF;AAkBD;;AAzBmD;;AADtD,kBACMR,uBADN,0CAGIH,SAAS,CAACY,WAAV,IAAyBZ,SAAS,CAACa,IAHvC;;AA6BA,SAAO,mCAAaV,uBAAb,EAAsCH,SAAtC,CAAP;AACD","sourcesContent":["import * as React from 'react';\r\nimport hoistStatics from 'hoist-non-react-statics';\r\nimport invariant from '../utils/invariant';\r\nimport NavigationContext from './NavigationContext';\r\n\r\nexport default function withNavigation(\r\n  Component,\r\n  config = { forwardRef: true }\r\n) {\r\n  class ComponentWithNavigation extends React.Component {\r\n    static displayName = `withNavigation(${\r\n      Component.displayName || Component.name\r\n    })`;\r\n\r\n    render() {\r\n      const navigationProp = this.props.navigation;\r\n      return (\r\n        <NavigationContext.Consumer>\r\n          {(navigationContext) => {\r\n            const navigation = navigationProp || navigationContext;\r\n            invariant(\r\n              !!navigation,\r\n              'withNavigation can only be used on a view hierarchy of a navigator. The wrapped component is unable to get access to navigation from props or context.'\r\n            );\r\n            return (\r\n              <Component\r\n                {...this.props}\r\n                navigation={navigation}\r\n                ref={config.forwardRef ? this.props.onRef : undefined}\r\n              />\r\n            );\r\n          }}\r\n        </NavigationContext.Consumer>\r\n      );\r\n    }\r\n  }\r\n\r\n  return hoistStatics(ComponentWithNavigation, Component);\r\n}\r\n"]}